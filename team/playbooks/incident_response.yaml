name: incident_response
gather_constraints: true
entry_preconditions:
  - request
gate_requirements:
  - phase: eval_regression
    gates: [quality_gate]
  - phase: ops_check
    gates: [production_gate]
  - phase: compile_if_needed
    gates: [compilation_gate]
phases:
  - gather_constraints
  - triage
  - classify_failure
  - hotfix
  - eval_regression
  - ops_check
  - compile_if_needed
  - finalize
allowed_loops:
  - from_phase: eval_regression
    to_phase: classify_failure
    max_iterations: 2
    trigger_condition: regression_fail
termination_conditions:
  success: regression_pass
  failure: budget_exhausted_and_unusable
  on_budget_exhaustion: gate_human_or_partial
human_gate_placement: optional
